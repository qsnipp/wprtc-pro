var $=jQuery,room=$("#localVideo").data("room"),localSrc="",wprtc_comm;maxCap=15,$("#localVideo").data("capacity")&&(maxCap=$("#localVideo").data("capacity")),$(document).ready(function(o){return wprtc_info.wprtc_icecomm?(wprtc_comm=new Icecomm("wprtc_info.wprtc_icecomm",{debug:!1}),wprtc_comm.connect(room,{audio:!0,limit:parseInt(maxCap)},function(){console.log("connected to: "+room)}),wprtc_comm.on("connected",function(o){console.log("Joining Room (Remote)"),console.log(wprtc_comm.getRoomSize(),wprtc_comm.getRemoteIDs()),document.getElementById("remoteVideos").appendChild(o.getVideo())}),wprtc_comm.on("local",function(o){console.log("Joining Room (Local)"),console.log(wprtc_comm.getRooms(),wprtc_comm.getRoomSize(),wprtc_comm.getRemoteIDs()),document.getElementById("localVideo").src=o.stream}),wprtc_comm.on("disconnect",function(o){console.log("Leaving Room"),document.getElementById(o.ID).remove()}),o("#roomChange select").on("change",function(e){return room=o(this).val(),"-1"==room||-1==room?!1:(console.log("changing rooms: "+room),wprtc_comm.connect(room),void(o(".videoTitle").length&&o(".videoTitle").html(room)))}),void o("body").on("click","#remoteVideos video",function(e){var t=o(this).attr("src"),c=o(this).attr("id"),m=o("#localVideo").attr("src");o("#localVideo").attr("src",t),o("#localVideo").get(0).play(),o(this).attr("src",m),document.getElementById(c).play()})):(alert("No API Key setup, please go to your admin settings to put in the Icecomm.io API key"),!1)});